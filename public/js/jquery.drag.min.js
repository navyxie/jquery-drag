var NAVY=NAVY||{};NAVY.Drag=function(e,t,n){var r,i;e=$(e),t=$(t),r=this,i={},r.jqObj=e,r.targetObj=t,r.opts=$.extend(i,n),r.init()},NAVY.Drag.prototype={init:function(){var e=this.targetObj,t=this.jqObj;t.css({cursor:"move"}),e.css({position:"absolute"}),this.initEvent()},initEvent:function(){var e=this.jqObj,t=this.targetObj,n=!1,r={x:0,y:0},i={left:0,top:0};$("body").find(t).find(e).mousedown(function(e){return n=!0,r.x=e.pageX,r.y=e.pageY,i.left=t.position().left,i.top=t.position().top,NAVY.UTIL.Style.setMaxZIndex(t[0]),!1}),$(document).on("mousemove mouseup",function(e){var s,o,u,a,f;switch(e.type){case"mouseup":return n=!1,!1;case"mousemove":if(n){s={x:e.pageX,y:e.pageY},o=s.x-r.x,u=s.y-r.y;if(o%5===0||u%5===0)a=i.left+o,f=i.top+u,a=a<=0?0:a,f=f<=0?0:f,t.css({left:a,top:f}).attr({left:a,top:f})}return!1}})},getStyle:function(){var e=this.targetObj;return{left:e.css("left"),top:e.css("top"),zIndex:e.css("z-index")}},unDrag:function(){var e=this.jqObj,t=this.targetObj;return e.css({cursor:"default"}).unbind(),t.css({position:"",left:"",top:""}),!1}}